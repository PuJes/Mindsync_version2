# AI 个人知识库桌面版使用指南

## 安装与启动

### 开发模式运行

```bash
# 安装依赖（首次运行）
npm install

# 启动开发模式
npm run electron:dev
```

### 打包为独立应用

```bash
# macOS
npm run electron:build:mac

# Windows
npm run electron:build:win

# Linux
npm run electron:build:linux
```

## 🗂️ 文件存储位置说明

### 数据存储机制

**桌面版采用本地文件系统存储：**

1. **首次使用时**，需要点击界面上的 **"选择文件夹"** 按钮，选择一个用于存储知识库的文件夹
2. **所有数据都会保存在你选择的文件夹中**：
   - `knowledge_index.json` - 存储所有文件的元数据（标题、分类、标签、摘要等）
   - 其他文件 - 上传的原始文件将保存在同一目录下
3. **关闭再打开应用**：
   - ✅ 应用会记住你选择的文件夹路径
   - ✅ 所有之前的数据会自动加载
   - ✅ 数据完全保存在你的本地硬盘，永久有效

> ⚠️ **重要提示**  
> 如果你没有看到"选择文件夹"的选项，请确保已经正确启动了 Electron 桌面版，而不是在浏览器中打开。

### 数据安全建议

- 📁 建议在合适的位置创建专门的文件夹（如 `~/Documents/AI知识库`）
- 💾 定期备份你选择的文件夹
- 🔄 可以使用云同步工具（如 iCloud、Dropbox）同步该文件夹

## 主要功能

### 1. 文件上传与 AI 分析
- 支持拖拽上传或点击上传
- 支持的文件类型：
  - 文本文件（.txt, .md）
  - 代码文件（.py, .js, .ts, .tsx, .json, .sql）
  - PDF 文档
  - 图片文件
  - Office 文件（.ppt, .xlsx, .csv）

### 2. AI 模型选择
- **Google Gemini** (需要 API Key)
- **DeepSeek** (需要 API Key)

在设置中配置你的 API Key，API Key 会保存在浏览器的 localStorage 中。

### 3. 知识库可视化
- **脑图视图**：树状层级结构
- **网格视图**：卡片式展示
- **列表视图**：详细列表

### 4. 搜索与筛选
- 全文搜索
- 按分类筛选
- 按标签筛选

## 桌面版特性
*   知识库的索引数据 (`knowledge_index.json`) 也会保存在这个文件夹中。
*   **数据完全私有**：只有您和这个文件夹拥有数据，不经过浏览器缓存，不上传云端（除了 AI 分析时的文本内容）。

## 📤 迁移现有数据
如果您之前在浏览器里存了很多数据（Web 模式）：
1.  在 Web 模式下点击 **“设置” -> “备份元数据”**，下载 `.json` 文件。
2.  启动桌面版，选择文件夹。
3.  点击 **“设置” -> “恢复数据”**，选择刚才的 `.json` 文件。
    *   *注意：由于 Web 模式文件存在浏览器内部，源文件无法直接迁移，需要重新上传或者是手动将文件放入您的知识库文件夹，并确保文件名一致。建议直接在桌面版重新构建知识库。*

## ⚠️ 隐私说明
*   **文件**: 100% 本地存储在您选择的文件夹。
*   **AI 分析**: 使用 Gemini/DeepSeek 时，文件的**文本内容**会被发送到 AI 服务商进行分析，分析完即丢弃，不会在云端存储。
